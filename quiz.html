<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="quizStyle.css" />
    <script src="quizScript.js" type="text/javascript"></script>
  </head>
  <body>
    <section class="main-section">
      <div class="top">
        <div class="left">
          <h1>Hi üôã‚Äç‚ôÇÔ∏è <br /><label id="receivedName"></label></h1>
          <script>
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const data = urlParams.get("name");

            //alert(data);

            // Fill the received data into the textbox
            if (data) {
              //   document.getElementById("receivedName").value = data;
              document.getElementById("receivedName").innerHTML = data;
            }
          </script>

          <h2>Welcome to the Quiz üìù</h2>
          <h5>You'll get only 30 seconds to complete all 5 queations!</h5>
          <button type="submit" id="startTime">Start Time</button>
        </div>
        <div class="right">
          <!-- <h1 class="timer">TIMER  </h1> -->
          <h1 class="count">CountDown</h1>
          <h3 class="timer">
            <p id="timer">30</p>
          </h3>
        </div>
      </div>
      <div class="main-content" id="questionSection">
        <div class="question1">
          <p id="qOne">1. What is the capital city of Nepal?</p>
          <ol>
            <li>
              <input type="radio" id="1a" value="Pokhara" name="q1" />Pokhara
            </li>
            <li>
              <input type="radio" id="1b" value="Birjung" name="q1" />Birjung
            </li>
            <li>
              <input type="radio" id="1c" value="Hetauda" name="q1" />Hetauda
            </li>
            <li>
              <input
                type="radio"
                id="1d"
                value="Kathmandu"
                name="q1"
              />Kathmandu
            </li>
          </ol>
          <!-- <script>
            // const q1 = document.getElementById("1d");
            // let totalScore=0;
            // function total() {
            //   totalScore = totalScore + 5;
            //   alert(totalScore);
            // }
            // // function subAns() {}

            // q1.addEventListener("click", total);
          </script> -->
        </div>
        <div class="question2">
          <p id="qTwo">2. What is the capital city of France?</p>
          <ol>
            <li><input type="radio" id="2a" value="Paris" name="q2" />Paris</li>
            <li>
              <input type="radio" id="2b" value="London" name="q2" />London
            </li>
            <li>
              <input
                type="radio"
                id="2c"
                value="Washington"
                name="q2"
              />Washington
            </li>
            <li>
              <input type="radio" id="2d" value="Berlin" name="q2" />Berlin
            </li>
          </ol>
        </div>
        <div class="question3">
          <p id="qThree">3. What is the capital city of Spain?</p>
          <ol>
            <li>
              <input type="radio" id="3a" value="Madrid" name="q3" />Madrid
            </li>
            <li>
              <input type="radio" id="3b" value="Valencia" name="q3" />Valencia
            </li>
            <li>
              <input
                type="radio"
                id="3c"
                value="Barcelona"
                name="q3"
              />Barcelona
            </li>
            <li>
              <input type="radio" id="3d" value="Bilbao" name="q3" />Bilbao
            </li>
          </ol>
        </div>
        <div class="question4">
          <p id="qFour">4. What is the capital city of Switzerland?</p>
          <ol>
            <li><input type="radio" id="4a" value="Basel" name="q4" />Basel</li>
            <li>
              <input type="radio" id="4b" value="Lugano" name="q4" />Lugano
            </li>
            <li><input type="radio" id="4c" value="Bern" name="q4" />Bern</li>
            <li>
              <input
                type="radio"
                id="4d"
                value="Winterthur"
                name="q4"
              />Winterthur
            </li>
          </ol>
        </div>
        <div class="question5">
          <p id="qFive">5. What is the capital city of Australia?</p>
          <ol>
            <li>
              <input type="radio" id="5a" value="Sydney" name="q5" />Sydney
            </li>
            <li><input type="radio" id="5b" value="Perth" name="q5" />Perth</li>
            <li>
              <input type="radio" id="5c" value="Adelaide" name="q5" />Adelaide
            </li>
            <li>
              <input type="radio" id="5d" value="Canberra" name="q5" />Canberra
            </li>
          </ol>
        </div>
      </div>
      <div class="submit-answer">
        <button class="submit-ans" id="submitAnswer">Submit Answers</button>
        <p id="totalScores"></p>
      </div>
    </section>

    <script>
      let countdown;
      const timerDisplay = document.getElementById("timer");
      const startButton = document.getElementById("startTime");
      const divQuestion = document.getElementById("questionSection");
      const submitAnswer = document.getElementById("submitAnswer");
      const totalDisplay = document.getElementById("totalScores");

      const q1 = document.getElementById("1d");
      const q2 = document.getElementById("2a");
      const q3 = document.getElementById("3a");
      const q4 = document.getElementById("4c");
      const q5 = document.getElementById("5d");

      function total() {
        let totalScore = 0;
        if (q1.checked) {
          totalScore = totalScore + 5;
        }
        if (q2.checked) {
          totalScore = totalScore + 5;
        }
        if (q3.checked) {
          totalScore = totalScore + 5;
        }
        if (q4.checked) {
          totalScore = totalScore + 5;
        }
        if (q5.checked) {
          totalScore = totalScore + 5;
        }
        // alert("total score is: " + totalScore);
        totalDisplay.textContent = "Your Total Score is: " + totalScore;
      }

      //submitAnswer.addEventListener("click", total);
      // clickcount = clickcount + 1;
      // if (clickcount == 1) {

      // }
      // totalScore = totalScore + 5;
      // alert("Correct Ans, Total score is" + totalScore);

      // q1.addEventListener("click", total);
      // q2.addEventListener("click", total);
      // q3.addEventListener("click", total);
      // q4.addEventListener("click", total);
      // q5.addEventListener("click", total);

      //divQuestion.hidden = true;

      function startCountdown() {
        let seconds = 30;

        countdown = setInterval(function () {
          if (seconds <= 0) {
            clearInterval(countdown);
            timerDisplay.textContent = "Times up!";
            startButton.disabled = false;
            submitAnswer.disabled = true;
            // divQuestion.disabled=true;
          } else {
            timerDisplay.textContent = seconds;
            seconds--;
          }
        }, 1000);
        startButton.disabled = true;
        submitAnswer.disabled = false;
        submitAnswer.addEventListener("click", total);
      }
      startButton.addEventListener("click", startCountdown);
    </script>
  </body>
</html>
